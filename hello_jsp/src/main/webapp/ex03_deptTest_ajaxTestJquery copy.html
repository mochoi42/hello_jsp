<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="jquery-3.7.1.min.js"></script>
<script>
	$(function(){
		$("#btnRead").click(function(){
			$.ajax({
				url : "listDept_json2.jsp",
			    success:function(data){
			    	//data --> 배열
			    	let table = $("<table></table>");
			    	$.each(data, function(i, dept){
			    		//이 안에서 this를 쓰면 여기서 반복문의 요소 하나하나를 받을 수 있다.
			    		console.log(this.dname);	
			    		console.log(dept.dname);
			    		
			    		let tr = $("<tr></tr>");
		    			let td1 = $("<td></td>").html(dept.dno);
		    			let td2 = $("<td></td>").html(dept.dname);
		    			let td3 = $("<td></td>").html(dept.dloc);
		    			$(tr).append(td1, td2, td3);
		    			$(table).append(tr);
			    	});
			    	$("#output").append(table);
			    }
			});
		});
	})
</script>
<style>
    table{
        border:1px solid #ddd;
        border-spacing: 0;
        border-collapse: separate;
    }
    table td{
        border:1px solid #ddd;
    }
</style>
</head>
<body>
    <textarea name="" id=""></textarea>
    <hr>
    <h1>Hello Kosta</h1>
    <button id="btnRead">Ajax 통신</button>
    <hr>
    <div id="output"></div>
    <h1>Hello Kosta</h1>
</body>
</html>